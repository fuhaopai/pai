#分布式框架中分库情况下主键id一般不会重复，但是考虑到未来可能出现的场景，本系统把所有库的表id都做成唯一，其实我现在也没有想到到啥具体的场景需要这么做，也许以后会有一张表，某个属性值需要填入不同的库和表中的id值嘞

#目前的做法是把id分单双数值，单数从redis中获取，redis中获取失败，则从db库中获取双数的id，每一个库中都维护一张自己的id主键获取表，维护最小值，最大值，当前值。当前值快到最大值时，则从共用的服务模块中获取一定数值的id值到本地，公共id表做相应的扣减。

#代码实现如下：

![image](https://github.com/fuhaopai/pai/blob/master/doc/image/getid.png)

-获取id值维护在基础模块base-db中，当前值快到最大值时，系统抛出一个pring event事件给应用层处理，调用基础服务维护本地主键表。


